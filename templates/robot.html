{% extends "header.html" %}
{% block head %}
{% endblock %}
{% block main_content %}
<div class="container container-fluid">
    <div class="row">
        <div class="page-header">
            <h1>{{robot_name}}</h1>
			<h2>{{robot}}<h2>
        </div>
    </div>
    {% if robot_runs %}
		<div class="row">
			<table class="table table-striped">
				<thead class="thead-inverse"> 
					<tr>
						<th>#</th>
						<th>Disqualified</th>
						<th>Level</th>
						<th>Actual Time (AT)</th>
						<th>Operating Modes(OM.x)</th>
						<th>Penalty Points(PP)</th>
						<th>Room Factor</th>
						<th>Score</th>
					</tr>
				</thead>
				<tbody>
				{% for run in robot_runs %}
					<tr>
						<td>{{ loop.index }}</td>
						<td>{{ true if run.get('failed_trial') == 1 else false }}</td>
						<td>{{ run.get('level') }}</td>
						<td>{{ run.get('actual_time') }}</td>
						<td class="fixed-columns">{{ applied_factors[loop.index - 1].get('applied_oms') }}</td>
						<td class="fixed-columns">{{ applied_factors[loop.index - 1].get('applied_pp') }}</td>
						<td class="fixed-columns">{{ applied_factors[loop.index - 1].get('applied_rf') }}</td>
						<td>{{ run.get('score') }}</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
		{% if robot_runs|length == 5 %}
			<h2>Total Final Score</h2>
			<div class="row">
				<table class="table table-striped">
					<thead class="thead-inverse">
						<tr>
							<th>Total Final Score (LS1 + LS2 + LS3) </th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>{{ total_score }}</td>
						</tr>
					</tbody>
				</table>
			</div>
		{% endif %}
    {% endif %}
    <div class="row">
        <a href="{{url_for('main.robot_add_run', robot_id=robot_id)}}">
        <button class="btn btn-large btn-primary">Add Run</button>
        </a>	
    </div>
</div>
{% endblock %}
